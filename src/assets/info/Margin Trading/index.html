



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Margin Trading - Bitfex Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.css">
      
      
        
        
        <meta name="theme-color" content="#dc3545">
      
    
    
      <script src="../assets/javascripts/modernizr.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#margin-trading" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Bitfex Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Bitfex Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Margin Trading
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Bitfex Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Bitfex Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../General/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Contracts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Futures/" title="Futures" class="md-nav__link">
      Futures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Perpetual/" title="Perpetual" class="md-nav__link">
      Perpetual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Exchange Quoted Spreads/" title="Exchange Quoted Spreads" class="md-nav__link">
      Exchange Quoted Spreads
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Contract Symbols/" title="Contract Symbols" class="md-nav__link">
      Contract Symbols
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Margin Trading
      </label>
    
    <a href="./" title="Margin Trading" class="md-nav__link md-nav__link--active">
      Margin Trading
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cross-margin" class="md-nav__link">
    Cross Margin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-margin-and-maintenance-margin" class="md-nav__link">
    Initial Margin and Maintenance Margin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profit-and-loss" class="md-nav__link">
    Profit and Loss
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#realised-pnl" class="md-nav__link">
    Realised PnL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unrealised-pnl" class="md-nav__link">
    Unrealised PnL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#average-entry-price" class="md-nav__link">
    Average Entry Price
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nav-and-account-balance" class="md-nav__link">
    NAV and Account Balance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#margin-call" class="md-nav__link">
    Margin Call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liquidation" class="md-nav__link">
    Liquidation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bankruptcy" class="md-nav__link">
    Bankruptcy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Fees/" title="Fees" class="md-nav__link">
      Fees
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Deposit & Withdrawal/" title="Deposits & Withdrawals" class="md-nav__link">
      Deposits & Withdrawals
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Liquidation/" title="Liquidation" class="md-nav__link">
      Liquidation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Order Types/" title="Order Types" class="md-nav__link">
      Order Types
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Time in Force/" title="Time in Force" class="md-nav__link">
      Time in Force
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FAQ/" title="FAQs" class="md-nav__link">
      FAQs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cross-margin" class="md-nav__link">
    Cross Margin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-margin-and-maintenance-margin" class="md-nav__link">
    Initial Margin and Maintenance Margin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profit-and-loss" class="md-nav__link">
    Profit and Loss
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#realised-pnl" class="md-nav__link">
    Realised PnL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unrealised-pnl" class="md-nav__link">
    Unrealised PnL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#average-entry-price" class="md-nav__link">
    Average Entry Price
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nav-and-account-balance" class="md-nav__link">
    NAV and Account Balance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#margin-call" class="md-nav__link">
    Margin Call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liquidation" class="md-nav__link">
    Liquidation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bankruptcy" class="md-nav__link">
    Bankruptcy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="margin-trading">Margin Trading</h1>
<h2 id="cross-margin">Cross Margin</h2>
<p>The leverage you are trading with depends on your available balance. Bitfex uses the entirety of a trader's account balance as margin to avoid any liquidations. </p>
<p>With market movements, Net Asset Value (NAV) and margins will fluctuate. </p>
<h2 id="initial-margin-and-maintenance-margin">Initial Margin and Maintenance Margin</h2>
<p><strong>Initial Margin(IM)</strong> is the minimum account balance required to initiate a position. </p>
<p>IM = Order Value (in BTC) * <a href="../Addendum/">IM Percentage</a></p>
<p><strong>IM Percentage = IM%</strong></p>
<p><strong>Maintenance Margin(MM)</strong> is the minimum account balance required to keep a position open. </p>
<p>MM = Position Value (in BTC) * <a href="../Addendum/">MM Percentage</a></p>
<p><strong>MM Percentage = MM%</strong></p>
<p>Initial Margin and Maintenance margin will be calculated for every order and trades.</p>
<p>Initial Margin will be blocked for all open positions and open orders (except the orders that will reduce the position size). </p>
<h2 id="profit-and-loss">Profit and Loss</h2>
<p>Profit and Loss is calculated on the basis of entry and exit/market prices. There are two types of profit/loss (PnL), realised and unrealised.</p>
<p>Entering and exiting positions on Bitfex happens as per the 'First-In, First-Out' (FIFO) principle, with PnL and average entry price calculations reflecting the same. FIFO implies that contracts in positions entered first are also the contracts that are sold/bought first when a position is being exit.</p>
<h3 id="realised-pnl">Realised PnL</h3>
<p>This includes profits and/or losses from closed positions, trading fees and funding fees. </p>
<h3 id="unrealised-pnl">Unrealised PnL</h3>
<p>This is PnL for open positions. Unrealised PnL is calculated on the basis of mark price. Unrealised PnL can be negative or positive immediately after an order executes. This happens when the mark price is different from the last price. Do note, unrealised profits are always added in real time to the NAV.</p>
<p>Example: </p>
<pre><code>Suppose you enter a long position (buy) of 1000 contracts in BTCUSD at $6000
You enter another long position of 1000 contracts in BTCUSD at $5000 and 
another long position of 1000 contracts when BTCUSD price is $7000

Now, Total Position (in BTC) = 1000/6000 + 1000/5000 + 1000/7000
= 0.50952381 BTC

Total Contracts = 1000 + 1000 + 1000 = 3000

Average Entry Price = Total Contracts/ Total Position (in BTC)
= 3000/0.50952381 = $5887.85

Now suppose, after some days the Mark Price for BTCUSD is $9050
You unrealised PnL will be calculated as follows

Unrealised PnL = 
  [1/Entry Price for 1st position - 1/ Mark Price]* Contracts in Position 1
+ [1/Entry Price for 2nd position - 1/ Mark Price]* Contracts in Position 2
+ [1/Entry Price for 3rd position - 1/ Mark Price]* Contracts in Position 3


= [1/6000 - 1/9050] * 1000 + [1/5000 - 1/9050] * 1000 + [1/7000 - 1/9050] * 1000 
= 0.53409629 BTC

Now, suppose you exit at $9000 by selling half your total position, 
i.e. 1500 contracts, then as per FIFO, the contracts in the position
that was taken first will be exit first, followed by contracts in the
second position and so on.

Hence, your Realised PnL will be calculated as follows

Realised PnL = 
  [1/Entry Price for 1st position - 1/ Exit Price]* Sold Contracts in Position 1
+ [1/Entry Price for 2nd position - 1/ Mark Price]* Sold Contracts in Position 2

= [1/6000 - 1/9000] * 1000 + [1/5000 - 1/9000] * 500
= 0.1 BTC
</code></pre>
<h2 id="average-entry-price">Average Entry Price</h2>
<p>The average entry price for a position is given by the total number of contracts in the position divided by the value (in BTC) of the total position entered. </p>
<p>Example: </p>
<pre><code>Suppose you place 2 buy orders, 
Order 1- 10,000 BTCUSD buy at $9,900 and
Order 2- 20,000 BTCUSD buy at $10,100

Total Position (in BTC) = 10,000/9,900 + 20,000/10,100
= 2.99029903 BTC

Total Contracts = 10,000 + 20,000 = 30,000

Average Entry Price = Total Contracts/ Total Position (in BTC)
= 30,000/2.99029903 = $10032.44


If you decide to exit half your position, i.e. 15,000 contracts 
when BTCUSD is at $12000, then as per FIFO, 
your average entry price will be calculated as follows

Now, Total Position (in BTC) = 0/9,900 + 15,000/10,100
    = 1.48514851 BTC

Total Contracts = 15,000

Average Entry Price (after exiting) = Total Contracts/ Total Position (in BTC)
= 15,000/1.48514851 = $10100
</code></pre>
<h2 id="nav-and-account-balance">NAV and Account Balance</h2>
<p>There are two types of account balance, NAV (Net Asset Value) and Available Balance. </p>
<p>NAV will be used for Liquidation Process and Available Balance will be used to check order placement.</p>
<p>Available Balance = NAV – IM Blocked </p>
<p>For example, a user deposit 1 BTC to his account.</p>
<p><strong>NAV = 1 BTC<br />
Available Balance = 1 BTC</strong></p>
<p>Say the trader places an order of value 2 BTC, then for IM% = 5%
IM = 5% of 2 BTC = 0.1 BTC
Say fees charged is 0.075%, then
Fee = 0.075% of 2 BTC = 0.00150 BTC</p>
<p>Updated NAV = 1 - Fee = 1-0.00150 = 0.99850 BTC
Available Balance = 0.99850 - 0.1 = 0.899850 BTC </p>
<p>While placing a new order, if <strong>IM &gt; Available Balance</strong>, order will be rejected. </p>
<h2 id="margin-call">Margin Call</h2>
<p>As soon as NAV&lt;=IM, a margin call will be issued to the trader via email. The trader can then choose to keep their positions open by increasing their account balance, and/or cancelling some or all open orders and/or closing some or all positions.    </p>
<h2 id="liquidation">Liquidation</h2>
<p>Liquidation happens when NAV becomes less than or equal to the Maintenance Margin. </p>
<p>As soon as NAV&lt;=MM, the Bitfex Liquidation Engine takes over the trader's position, all the open orders are cancelled, and liquidation orders are sent to market. During the liquidation event, a trader has no control over their account and cannot place, cancel or modify any orders from their account. </p>
<p>This will continue till NAV &gt; MM. </p>
<p>A liquidation fee of 0.6% is charged, that goes to the insurance fund. </p>
<h2 id="bankruptcy">Bankruptcy</h2>
<p>During liquidation, if NAV becomes less than zero, it is known as bankruptcy. In the case of a bankruptcy, the Bitfex insurance fund cover's the bankrupted account's losses. </p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright"><a href="https://bitfex.com" target="_blank"> <font size= 3.7rem>  Bitfex  </a>

</div>



    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>